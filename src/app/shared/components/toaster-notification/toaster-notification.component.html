<div class="toaster-container" [class.hasNotifications]="notifications.length > 0">
  <div class="notifications-wrapper">
    <button *ngIf="showCloseAllNotifications" class="notifications-clear-all-button" (click)="closeAllNotifications()">
      Close all ({{ notifications.length }})
    </button>
    <div *ngFor="let notification of notifications; trackBy: trackById" class="notification-item"
      [class]="'notification-' + notification.type" [@slideInOut] (mouseenter)="pauseProgress(notification)"
      (mouseleave)="resumeProgress(notification)">
      <div class="notification-content">
        <div class="notification-header">
          <div class="notification-header-left">
            <mat-icon>{{ getNotificationIcon(notification.type) }}</mat-icon>
            <h2 class="notification-title">{{ notification.title }}</h2>
          </div>
          <button class="notification-close-btn" (click)="closeNotification(notification.id, $event)">
            <mat-icon>close</mat-icon>
          </button>
        </div>

        <div *ngIf="notification.message" class="notification-text">
          <span>{{ notification.message }}</span>
          <span class="notification-timestamp">{{
            notification.timestamp | date:'shortTime'
            }}</span>
        </div>
        <div *ngIf="notification.duration && notification.duration > 0" class="notification-progress-container">
          <div class="notification-progress-bar" [style.animation-duration]="notification.duration + 'ms'"
            [class.paused]="notification.isPaused"></div>
        </div>
      </div>
    </div>
  </div>
</div>